{"version":3,"file":"Bookmarks.js","sources":["Bookmarks.js"],"names":["define","declare","_WidgetBase","Bookmarks","json","cookie","lang","declaredClass","postCreate","this","inherited","arguments","bookmarks","bookmarkItems","undefined","parse","map","editable","mixin","domNode","connect","setBookmarks","stringify","toJson","expires","_export"],"mappings":";;;;;AAAAA,QACC,qBACA,oBACA,uBACA,YACA,cACA,kBACA,4CACE,SAAUC,EAASC,EAAaC,EAAWC,EAAMC,EAAQC,GAE3D,MAAOL,IAASC,IACfK,cAAe,sBACfC,WAAY,WACXC,KAAKC,UAAUC,UACf,IAAIC,GAAYH,KAAKG,SACrBH,MAAKI,cAAgBR,EAAO,iBACDS,SAAvBL,KAAKI,cACRJ,KAAKI,iBAELJ,KAAKI,cAAgBT,EAAKW,MAAMN,KAAKI,eAGtCJ,KAAKG,UAAY,GAAIT,IACpBa,IAAKP,KAAKO,IACVC,SAAUR,KAAKQ,SACfL,UAAWN,EAAKY,MAAMT,KAAKI,cAAeD,IACxCH,KAAKU,SAERV,KAAKW,QAAQX,KAAKG,UAAW,SAAU,gBACvCH,KAAKW,QAAQX,KAAKG,UAAW,WAAY,iBAE1CS,aAAc,WACbhB,EAAO,gBAAiBD,EAAKkB,UAAUb,KAAKG,UAAUW,WACrDC,QAAS,OAGXC,QAAS,WACR,MAAOrB,GAAKkB,UAAUb,KAAKG,UAAUW","sourcesContent":["define([\n\t'dojo/_base/declare',\n\t'dijit/_WidgetBase',\n\t'esri/dijit/Bookmarks',\n\t'dojo/json',\n\t'dojo/cookie',\n\t'dojo/_base/lang',\n\t'xstyle/css!./Bookmarks/css/Bookmarks.css'\n], function (declare, _WidgetBase, Bookmarks, json, cookie, lang) {\n\n\treturn declare([_WidgetBase], {\n\t\tdeclaredClass: 'gis.digit.Bookmarks',\n\t\tpostCreate: function () {\n\t\t\tthis.inherited(arguments);\n\t\t\tvar bookmarks = this.bookmarks; // from the options passed in\n\t\t\tthis.bookmarkItems = cookie('bookmarkItems');\n\t\t\tif (this.bookmarkItems === undefined) {\n\t\t\t\tthis.bookmarkItems = [];\n\t\t\t} else {\n\t\t\t\tthis.bookmarkItems = json.parse(this.bookmarkItems);\n\t\t\t}\n\n\t\t\tthis.bookmarks = new Bookmarks({\n\t\t\t\tmap: this.map,\n\t\t\t\teditable: this.editable,\n\t\t\t\tbookmarks: lang.mixin(this.bookmarkItems, bookmarks)\n\t\t\t}, this.domNode);\n\n\t\t\tthis.connect(this.bookmarks, 'onEdit', 'setBookmarks');\n\t\t\tthis.connect(this.bookmarks, 'onRemove', 'setBookmarks');\n\t\t},\n\t\tsetBookmarks: function () {\n\t\t\tcookie('bookmarkItems', json.stringify(this.bookmarks.toJson()), {\n\t\t\t\texpires: 365\n\t\t\t});\n\t\t},\n\t\t_export: function () {\n\t\t\treturn json.stringify(this.bookmarks.toJson());\n\t\t}\n\t});\n});"]}